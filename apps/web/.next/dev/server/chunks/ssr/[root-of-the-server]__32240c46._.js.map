{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jaece/buyani-ecommerce-app/apps/web/src/app/%28customer%29/settings/profile/email-form.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const EmailForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call EmailForm() from the server but EmailForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/src/app/(customer)/settings/profile/email-form.tsx <module evaluation>\",\n    \"EmailForm\",\n);\nexport const updateEmailSchema = registerClientReference(\n    function() { throw new Error(\"Attempted to call updateEmailSchema() from the server but updateEmailSchema is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/src/app/(customer)/settings/profile/email-form.tsx <module evaluation>\",\n    \"updateEmailSchema\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;;;AACvE;;AACO,MAAM,YAAY,IAAA,6UAAuB,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,6FACA;AAEG,MAAM,oBAAoB,IAAA,6UAAuB,EACpD;IAAa,MAAM,IAAI,MAAM;AAAkP,GAC/Q,6FACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jaece/buyani-ecommerce-app/apps/web/src/app/%28customer%29/settings/profile/email-form.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const EmailForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call EmailForm() from the server but EmailForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/src/app/(customer)/settings/profile/email-form.tsx\",\n    \"EmailForm\",\n);\nexport const updateEmailSchema = registerClientReference(\n    function() { throw new Error(\"Attempted to call updateEmailSchema() from the server but updateEmailSchema is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/src/app/(customer)/settings/profile/email-form.tsx\",\n    \"updateEmailSchema\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;;;AACvE;;AACO,MAAM,YAAY,IAAA,6UAAuB,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,yEACA;AAEG,MAAM,oBAAoB,IAAA,6UAAuB,EACpD;IAAa,MAAM,IAAI,MAAM;AAAkP,GAC/Q,yEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jaece/buyani-ecommerce-app/apps/web/src/app/%28customer%29/settings/profile/logout-everywhere-button.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const LogoutEverywhereButton = registerClientReference(\n    function() { throw new Error(\"Attempted to call LogoutEverywhereButton() from the server but LogoutEverywhereButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/src/app/(customer)/settings/profile/logout-everywhere-button.tsx <module evaluation>\",\n    \"LogoutEverywhereButton\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,yBAAyB,IAAA,6UAAuB,EACzD;IAAa,MAAM,IAAI,MAAM;AAA4P,GACzR,2GACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 98, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jaece/buyani-ecommerce-app/apps/web/src/app/%28customer%29/settings/profile/logout-everywhere-button.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const LogoutEverywhereButton = registerClientReference(\n    function() { throw new Error(\"Attempted to call LogoutEverywhereButton() from the server but LogoutEverywhereButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/src/app/(customer)/settings/profile/logout-everywhere-button.tsx\",\n    \"LogoutEverywhereButton\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,yBAAyB,IAAA,6UAAuB,EACzD;IAAa,MAAM,IAAI,MAAM;AAA4P,GACzR,uFACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 120, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jaece/buyani-ecommerce-app/apps/web/src/app/%28customer%29/settings/profile/password-form.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const PasswordForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call PasswordForm() from the server but PasswordForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/src/app/(customer)/settings/profile/password-form.tsx <module evaluation>\",\n    \"PasswordForm\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,eAAe,IAAA,6UAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,gGACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 134, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jaece/buyani-ecommerce-app/apps/web/src/app/%28customer%29/settings/profile/password-form.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const PasswordForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call PasswordForm() from the server but PasswordForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/src/app/(customer)/settings/profile/password-form.tsx\",\n    \"PasswordForm\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,eAAe,IAAA,6UAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,4EACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 148, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 156, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jaece/buyani-ecommerce-app/apps/web/src/app/%28customer%29/settings/profile/profile-details-form.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ProfileDetailsForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call ProfileDetailsForm() from the server but ProfileDetailsForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/src/app/(customer)/settings/profile/profile-details-form.tsx <module evaluation>\",\n    \"ProfileDetailsForm\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,qBAAqB,IAAA,6UAAuB,EACrD;IAAa,MAAM,IAAI,MAAM;AAAoP,GACjR,uGACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 170, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jaece/buyani-ecommerce-app/apps/web/src/app/%28customer%29/settings/profile/profile-details-form.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ProfileDetailsForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call ProfileDetailsForm() from the server but ProfileDetailsForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/src/app/(customer)/settings/profile/profile-details-form.tsx\",\n    \"ProfileDetailsForm\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,qBAAqB,IAAA,6UAAuB,EACrD;IAAa,MAAM,IAAI,MAAM;AAAoP,GACjR,mFACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 184, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 264, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jaece/buyani-ecommerce-app/apps/web/src/server/drizzle.ts"],"sourcesContent":["import { drizzle } from \"drizzle-orm/mysql2\";\r\nimport mysql from \"mysql2/promise\";\r\n\r\nconst pool = mysql.createPool({ uri: process.env.DB_URI });\r\nexport const db = drizzle(pool);\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,MAAM,OAAO,+LAAK,CAAC,UAAU,CAAC;IAAE,KAAK,QAAQ,GAAG,CAAC,MAAM;AAAC;AACjD,MAAM,KAAK,IAAA,4PAAO,EAAC","debugId":null}},
    {"offset": {"line": 280, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jaece/buyani-ecommerce-app/apps/web/src/server/schema/auth-schema.ts"],"sourcesContent":["import {\r\n  mysqlTable,\r\n  varchar,\r\n  text,\r\n  timestamp,\r\n  boolean,\r\n} from \"drizzle-orm/mysql-core\";\r\n\r\nexport const USER_ROLES = {\r\n  ADMIN: \"admin\",\r\n  SELLER: \"seller\",\r\n  CUSTOMER: \"customer\",\r\n};\r\n\r\nexport const user = mysqlTable(\"user\", {\r\n  id: varchar(\"id\", { length: 36 }).primaryKey(),\r\n  name: text(\"name\").notNull(), // username\r\n  first_name: text(\"first_name\"),\r\n  last_name: text(\"last_name\"),\r\n  email: varchar(\"email\", { length: 255 }).notNull().unique(),\r\n  emailVerified: boolean(\"email_verified\").default(false).notNull(),\r\n  image: text(\"image\"),\r\n  role: varchar(\"role\", { length: 50 }).default(USER_ROLES.CUSTOMER).notNull(),\r\n  createdAt: timestamp(\"created_at\", { fsp: 3 }).defaultNow().notNull(),\r\n  updatedAt: timestamp(\"updated_at\", { fsp: 3 })\r\n    .defaultNow()\r\n    .$onUpdate(() => /* @__PURE__ */ new Date())\r\n    .notNull(),\r\n});\r\n\r\nexport const session = mysqlTable(\"session\", {\r\n  id: varchar(\"id\", { length: 36 }).primaryKey(),\r\n  expiresAt: timestamp(\"expires_at\", { fsp: 3 }).notNull(),\r\n  token: varchar(\"token\", { length: 255 }).notNull().unique(),\r\n  createdAt: timestamp(\"created_at\", { fsp: 3 }).defaultNow().notNull(),\r\n  updatedAt: timestamp(\"updated_at\", { fsp: 3 })\r\n    .$onUpdate(() => /* @__PURE__ */ new Date())\r\n    .notNull(),\r\n  ipAddress: text(\"ip_address\"),\r\n  userAgent: text(\"user_agent\"),\r\n  userId: varchar(\"user_id\", { length: 36 })\r\n    .notNull()\r\n    .references(() => user.id, { onDelete: \"cascade\" }),\r\n});\r\n\r\nexport const account = mysqlTable(\"account\", {\r\n  id: varchar(\"id\", { length: 36 }).primaryKey(),\r\n  accountId: text(\"account_id\").notNull(),\r\n  providerId: text(\"provider_id\").notNull(),\r\n  userId: varchar(\"user_id\", { length: 36 })\r\n    .notNull()\r\n    .references(() => user.id, { onDelete: \"cascade\" }),\r\n  accessToken: text(\"access_token\"),\r\n  refreshToken: text(\"refresh_token\"),\r\n  idToken: text(\"id_token\"),\r\n  accessTokenExpiresAt: timestamp(\"access_token_expires_at\", { fsp: 3 }),\r\n  refreshTokenExpiresAt: timestamp(\"refresh_token_expires_at\", { fsp: 3 }),\r\n  scope: text(\"scope\"),\r\n  password: text(\"password\"),\r\n  createdAt: timestamp(\"created_at\", { fsp: 3 }).defaultNow().notNull(),\r\n  updatedAt: timestamp(\"updated_at\", { fsp: 3 })\r\n    .$onUpdate(() => /* @__PURE__ */ new Date())\r\n    .notNull(),\r\n});\r\n\r\nexport const verification = mysqlTable(\"verification\", {\r\n  id: varchar(\"id\", { length: 36 }).primaryKey(),\r\n  identifier: text(\"identifier\").notNull(),\r\n  value: text(\"value\").notNull(),\r\n  expiresAt: timestamp(\"expires_at\", { fsp: 3 }).notNull(),\r\n  createdAt: timestamp(\"created_at\", { fsp: 3 }).defaultNow().notNull(),\r\n  updatedAt: timestamp(\"updated_at\", { fsp: 3 })\r\n    .defaultNow()\r\n    .$onUpdate(() => /* @__PURE__ */ new Date())\r\n    .notNull(),\r\n});\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 398, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jaece/buyani-ecommerce-app/apps/web/src/lib/validation.ts"],"sourcesContent":["import z from \"zod\";\r\n\r\nexport const passwordSchema = z\r\n  .string()\r\n  .min(1, { message: \"Password is required\" })\r\n  .min(8, { message: \"Password must be at least 8 characters\" })\r\n  .regex(/[^A-Za-z0-9]/, {\r\n    message: \"Password must contain at least one special character\",\r\n  });\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,iBAAiB,uMAAC,CAC5B,MAAM,GACN,GAAG,CAAC,GAAG;IAAE,SAAS;AAAuB,GACzC,GAAG,CAAC,GAAG;IAAE,SAAS;AAAyC,GAC3D,KAAK,CAAC,gBAAgB;IACrB,SAAS;AACX","debugId":null}},
    {"offset": {"line": 451, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jaece/buyani-ecommerce-app/apps/web/src/lib/env.ts"],"sourcesContent":["import { z } from \"zod\";\r\n\r\nconst envSchema = z.object({\r\n  DB_URI: z.string().nonempty(\"DB_URI is required\"),\r\n  BETTER_AUTH_URL: z.string().nonempty(\"BETTER_AUTH_URL is required\"),\r\n  BETTER_AUTH_SECRET: z.string().nonempty(\"BETTER_AUTH_SECRET is required\"),\r\n  GMAIL_USER: z.string().email(\"GMAIL_USER must be a valid email\"),\r\n  GMAIL_APP_KEY: z.string().nonempty(\"GMAIL_APP_KEY is required\"),\r\n  GOOGLE_CLIENT_ID: z.string().nonempty(\"GOOGLE_CLIENT_ID is required\"),\r\n  GOOGLE_CLIENT_SECRET: z.string().nonempty(\"GOOGLE_CLIENT_SECRET is required\"),\r\n});\r\n\r\nconst parsed = envSchema.safeParse(process.env);\r\n\r\nif (!parsed.success) {\r\n  console.error(\"Missing or invalid environment variables:\");\r\n  console.error(parsed.error.format());\r\n  process.exit(1);\r\n}\r\n\r\nexport const env = parsed.data;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,YAAY,kOAAC,CAAC,MAAM,CAAC;IACzB,QAAQ,kOAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC5B,iBAAiB,kOAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IACrC,oBAAoB,kOAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IACxC,YAAY,kOAAC,CAAC,MAAM,GAAG,KAAK,CAAC;IAC7B,eAAe,kOAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IACnC,kBAAkB,kOAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IACtC,sBAAsB,kOAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;AAC5C;AAEA,MAAM,SAAS,UAAU,SAAS,CAAC,QAAQ,GAAG;AAE9C,IAAI,CAAC,OAAO,OAAO,EAAE;IACnB,QAAQ,KAAK,CAAC;IACd,QAAQ,KAAK,CAAC,OAAO,KAAK,CAAC,MAAM;IACjC,QAAQ,IAAI,CAAC;AACf;AAEO,MAAM,MAAM,OAAO,IAAI","debugId":null}},
    {"offset": {"line": 477, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jaece/buyani-ecommerce-app/apps/web/src/server/mailer.ts"],"sourcesContent":["import nodemailer from \"nodemailer\";\r\nimport { env } from \"@/lib/env\";\r\n\r\ninterface sendMailProps {\r\n  to: string;\r\n  subject: string;\r\n  text: string;\r\n}\r\n\r\nexport async function sendMail({ to, subject, text }: sendMailProps) {\r\n  const transporter = nodemailer.createTransport({\r\n    service: \"gmail\",\r\n    auth: {\r\n      user: env.GMAIL_USER,\r\n      pass: env.GMAIL_APP_KEY,\r\n    },\r\n  });\r\n\r\n  await transporter.sendMail({\r\n    from: env.GMAIL_USER,\r\n    to,\r\n    subject,\r\n    text,\r\n  });\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAQO,eAAe,SAAS,EAAE,EAAE,EAAE,OAAO,EAAE,IAAI,EAAiB;IACjE,MAAM,cAAc,iNAAU,CAAC,eAAe,CAAC;QAC7C,SAAS;QACT,MAAM;YACJ,MAAM,uIAAG,CAAC,UAAU;YACpB,MAAM,uIAAG,CAAC,aAAa;QACzB;IACF;IAEA,MAAM,YAAY,QAAQ,CAAC;QACzB,MAAM,uIAAG,CAAC,UAAU;QACpB;QACA;QACA;IACF;AACF","debugId":null}},
    {"offset": {"line": 504, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jaece/buyani-ecommerce-app/apps/web/src/server/auth.ts"],"sourcesContent":["import { drizzleAdapter } from \"better-auth/adapters/drizzle\";\r\nimport { betterAuth } from \"better-auth\";\r\nimport { createAuthMiddleware, APIError } from \"better-auth/api\";\r\nimport { db } from \"./drizzle\";\r\nimport { account, user, session, verification } from \"./schema/auth-schema\";\r\nimport { passwordSchema } from \"@/lib/validation\";\r\nimport { sendMail } from \"./mailer\";\r\nimport { env } from \"@/lib/env\";\r\n\r\nexport const auth = betterAuth({\r\n  database: drizzleAdapter(db, {\r\n    provider: \"mysql\",\r\n    schema: { user, account, session, verification },\r\n  }),\r\n\r\n  emailAndPassword: {\r\n    enabled: true,\r\n    async sendResetPassword({ user, url }) {\r\n      await sendMail({\r\n        to: user.email,\r\n        subject: \"Reset your password\",\r\n        text: \"Click the link to reset your password: \" + url,\r\n      });\r\n    },\r\n  },\r\n\r\n  emailVerification: {\r\n    sendOnSignUp: true,\r\n    autoSignInAfterVerification: true,\r\n    async sendVerificationEmail({ user, url }) {\r\n      await sendMail({\r\n        to: user.email,\r\n        subject: \"Verify your email\",\r\n        text: \"Click the link to verify your email: \" + url,\r\n      });\r\n    },\r\n  },\r\n\r\n  user: {\r\n    changeEmail: {\r\n      enabled: true,\r\n      async sendChangeEmailVerification({ user, newEmail, url }) {\r\n        await sendMail({\r\n          to: user.email,\r\n          subject: \"Approve email change\",\r\n          text: `Your email has been changed to ${newEmail}. Click the link to approve the change: ${url}`,\r\n        });\r\n      },\r\n    },\r\n    additionalFields: {\r\n      role: {\r\n        type: \"string\",\r\n        input: false,\r\n      },\r\n      first_name: {\r\n        type: \"string\",\r\n        required: false,\r\n        input: true,\r\n      },\r\n      last_name: {\r\n        type: \"string\",\r\n        required: false,\r\n        input: true,\r\n      },\r\n    },\r\n  },\r\n\r\n  hooks: {\r\n    before: createAuthMiddleware(async (ctx) => {\r\n      // validate password in server sside\r\n\r\n      if (\r\n        ctx.path === \"/sign-up/email\" ||\r\n        ctx.path === \"/reset-password\" ||\r\n        ctx.path === \"/change-password\"\r\n      ) {\r\n        const password = ctx.body.password || ctx.body.newPassword;\r\n        const { error } = passwordSchema.safeParse(password);\r\n\r\n        if (error) {\r\n          throw new APIError(\"BAD_REQUEST\", {\r\n            message: \"Password not strong enough\",\r\n          });\r\n        }\r\n      }\r\n    }),\r\n  },\r\n\r\n  socialProviders: {\r\n    google: {\r\n      clientId: env.GOOGLE_CLIENT_ID,\r\n      clientSecret: env.GOOGLE_CLIENT_SECRET,\r\n    },\r\n  },\r\n});\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AAEO,MAAM,OAAO,IAAA,2RAAU,EAAC;IAC7B,UAAU,IAAA,+QAAc,EAAC,6IAAE,EAAE;QAC3B,UAAU;QACV,QAAQ;YAAE,MAAA,gKAAI;YAAE,SAAA,mKAAO;YAAE,SAAA,mKAAO;YAAE,cAAA,wKAAY;QAAC;IACjD;IAEA,kBAAkB;QAChB,SAAS;QACT,MAAM,mBAAkB,EAAE,IAAI,EAAE,GAAG,EAAE;YACnC,MAAM,IAAA,kJAAQ,EAAC;gBACb,IAAI,KAAK,KAAK;gBACd,SAAS;gBACT,MAAM,4CAA4C;YACpD;QACF;IACF;IAEA,mBAAmB;QACjB,cAAc;QACd,6BAA6B;QAC7B,MAAM,uBAAsB,EAAE,IAAI,EAAE,GAAG,EAAE;YACvC,MAAM,IAAA,kJAAQ,EAAC;gBACb,IAAI,KAAK,KAAK;gBACd,SAAS;gBACT,MAAM,0CAA0C;YAClD;QACF;IACF;IAEA,MAAM;QACJ,aAAa;YACX,SAAS;YACT,MAAM,6BAA4B,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,EAAE;gBACvD,MAAM,IAAA,kJAAQ,EAAC;oBACb,IAAI,KAAK,KAAK;oBACd,SAAS;oBACT,MAAM,CAAC,+BAA+B,EAAE,SAAS,wCAAwC,EAAE,KAAK;gBAClG;YACF;QACF;QACA,kBAAkB;YAChB,MAAM;gBACJ,MAAM;gBACN,OAAO;YACT;YACA,YAAY;gBACV,MAAM;gBACN,UAAU;gBACV,OAAO;YACT;YACA,WAAW;gBACT,MAAM;gBACN,UAAU;gBACV,OAAO;YACT;QACF;IACF;IAEA,OAAO;QACL,QAAQ,IAAA,yRAAoB,EAAC,OAAO;YAClC,oCAAoC;YAEpC,IACE,IAAI,IAAI,KAAK,oBACb,IAAI,IAAI,KAAK,qBACb,IAAI,IAAI,KAAK,oBACb;gBACA,MAAM,WAAW,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,IAAI,CAAC,WAAW;gBAC1D,MAAM,EAAE,KAAK,EAAE,GAAG,yJAAc,CAAC,SAAS,CAAC;gBAE3C,IAAI,OAAO;oBACT,MAAM,IAAI,sNAAQ,CAAC,eAAe;wBAChC,SAAS;oBACX;gBACF;YACF;QACF;IACF;IAEA,iBAAiB;QACf,QAAQ;YACN,UAAU,uIAAG,CAAC,gBAAgB;YAC9B,cAAc,uIAAG,CAAC,oBAAoB;QACxC;IACF;AACF","debugId":null}},
    {"offset": {"line": 611, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jaece/buyani-ecommerce-app/apps/web/src/server/session.ts"],"sourcesContent":["import { headers } from \"next/headers\";\r\nimport { auth } from \"./auth\";\r\nimport { cache } from \"react\";\r\n\r\nexport const getServerSession = cache(async () => {\r\n  return await auth.api.getSession({ headers: await headers() });\r\n});\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEO,MAAM,mBAAmB,IAAA,mRAAK,EAAC;IACpC,OAAO,MAAM,4IAAI,CAAC,GAAG,CAAC,UAAU,CAAC;QAAE,SAAS,MAAM,IAAA,+MAAO;IAAG;AAC9D","debugId":null}},
    {"offset": {"line": 630, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jaece/buyani-ecommerce-app/apps/web/src/app/%28customer%29/settings/profile/page.tsx"],"sourcesContent":["import { EmailForm } from \"./email-form\";\r\nimport { LogoutEverywhereButton } from \"./logout-everywhere-button\";\r\nimport { PasswordForm } from \"./password-form\";\r\nimport { ProfileDetailsForm } from \"./profile-details-form\";\r\nimport { getServerSession } from \"@/server/session\";\r\nimport { unauthorized } from \"next/navigation\";\r\n\r\nexport default async function ProfilePage() {\r\n  // TODO: Warn the user if not yet verified email\r\n\r\n  const session = await getServerSession();\r\n  const user = session?.user;\r\n\r\n  if (!user) unauthorized();\r\n\r\n  return (\r\n    <main className=\"mx-auto w-full max-w-6xl px-4 py-12 h-screen\">\r\n      <div className=\"space-y-6\">\r\n        <div className=\"space-y-2\">\r\n          <h1 className=\"text-2xl font-semibold\">Profile</h1>\r\n          <p className=\"text-muted-foreground\">\r\n            Update your account details, email, and password.\r\n          </p>\r\n        </div>\r\n        <div className=\"flex flex-col gap-6 lg:flex-row\">\r\n          <div className=\"flex-1\">\r\n            <ProfileDetailsForm user={user} />\r\n          </div>\r\n          <div className=\"flex-1 space-y-6\">\r\n            <EmailForm currentEmail={user.email} />\r\n            <PasswordForm />\r\n            <LogoutEverywhereButton />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;AAEe,eAAe;IAC5B,gDAAgD;IAEhD,MAAM,UAAU,MAAM,IAAA,2JAAgB;IACtC,MAAM,OAAO,SAAS;IAEtB,IAAI,CAAC,MAAM,IAAA,0QAAY;IAEvB,qBACE,mTAAC;QAAK,WAAU;kBACd,cAAA,mTAAC;YAAI,WAAU;;8BACb,mTAAC;oBAAI,WAAU;;sCACb,mTAAC;4BAAG,WAAU;sCAAyB;;;;;;sCACvC,mTAAC;4BAAE,WAAU;sCAAwB;;;;;;;;;;;;8BAIvC,mTAAC;oBAAI,WAAU;;sCACb,mTAAC;4BAAI,WAAU;sCACb,cAAA,mTAAC,qNAAkB;gCAAC,MAAM;;;;;;;;;;;sCAE5B,mTAAC;4BAAI,WAAU;;8CACb,mTAAC,+LAAS;oCAAC,cAAc,KAAK,KAAK;;;;;;8CACnC,mTAAC,qMAAY;;;;;8CACb,mTAAC,6NAAsB;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMnC","debugId":null}}]
}